# Mover Status Monitor Configuration Example - Discord Provider
# Copy this file to config.yaml and customize for your setup

# Core monitoring settings
monitoring:
  # Interval between checks in seconds
  interval: 30
  
  # Maximum time to wait for process detection
  detection_timeout: 60
  
  # Enable dry run mode (no actual notifications)
  dry_run: false

# Process detection settings (REQUIRED)
process:
  # Name of the process to monitor
  name: "mover"
  
  # Path patterns to match for process detection
  paths:
    - "/usr/local/sbin/mover"
    - "/usr/bin/mover"

# Progress tracking settings
progress:
  # Minimum progress change to trigger notification (percentage)
  min_change_threshold: 5.0
  
  # Window size for ETC calculation (number of samples)
  estimation_window: 10
  
  # Paths to exclude from size calculations
  exclusions:
    - "/.Trash-*"
    - "/lost+found"
    - "/tmp"
    - "/var/tmp"

# Notification settings
notifications:
  # List of enabled providers
  enabled_providers:
    - "discord"
  
  # Events that trigger notifications
  events:
    - "started"
    - "progress"
    - "completed"
    - "failed"
  
  # Notification frequency limits
  rate_limits:
    progress: 300  # seconds between progress notifications
    status: 60     # seconds between status notifications

# Logging configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: null  # Set to a file path to enable file logging

# Provider-specific configurations
providers:
  # Discord provider configuration
  discord:
    # Discord webhook URL (required)
    webhook_url: "https://discord.com/api/webhooks/123456789012345678/ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789012"
    
    # Bot username override (optional)
    username: "Mover Status Bot"
    
    # Bot avatar URL (optional)
    avatar_url: "https://example.com/bot-avatar.png"
    
    # Embed customization
    embeds:
      # Enable rich embeds (true) or simple messages (false)
      enabled: true
      
      # Color scheme for different states (hex values)
      colors:
        started: 0x00ff00    # Green
        progress: 0x0099ff   # Blue
        completed: 0x00cc00  # Dark green
        failed: 0xff0000     # Red
      
      # Include thumbnail image
      thumbnail: true
      
      # Include timestamp
      timestamp: true
    
    # Notification settings
    notifications:
      # Mention roles or users for critical events
      mentions:
        started: []
        failed: ["@everyone"]
        completed: []
      
      # Rate limiting (seconds between notifications)
      rate_limits:
        progress: 300
        status: 60
    
    # Retry settings
    retry:
      max_attempts: 3
      backoff_factor: 2.0
      timeout: 30